"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("react");function p(r,l){return r===l}function q(r,l){const y=typeof l=="number"?{delay:l}:l,{delay:f,maxWait:m,leading:i=!1,trailing:a=!0,equalityFn:T=p}=y,[C,g]=t.useState(r),[D,o]=t.useState(!1),b=t.useRef(r),e=t.useRef(null),n=t.useRef(null),s=t.useRef(null),u=t.useCallback(()=>{e.current&&(clearTimeout(e.current),e.current=null),n.current&&(clearTimeout(n.current),n.current=null)},[]),c=t.useCallback(()=>{g(b.current),o(!1),s.current=null},[]),S=t.useCallback(()=>{(e.current||n.current)&&(c(),u())},[c,u]),k=t.useCallback(()=>{(e.current||n.current)&&(o(!1),u())},[u]);return t.useEffect(()=>{if(T(b.current,r))return;b.current=r,o(!0);const d=Date.now();if((s.current===null||i&&!e.current)&&(s.current=d,i)){g(r),o(!1),a&&(e.current=setTimeout(()=>{c()},f));return}if(s.current=d,e.current&&clearTimeout(e.current),a&&(e.current=setTimeout(()=>{c()},f)),m!==void 0&&!n.current){const x=d-(s.current||0),R=Math.max(0,m-x);n.current=setTimeout(()=>{(a||i&&e.current)&&c(),n.current=null},R)}return()=>{u()}},[r,f,m,i,a,T,c,u]),{debouncedValue:C,flush:S,cancel:k,isPending:D}}exports.useDebounce=q;
