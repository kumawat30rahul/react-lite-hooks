"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const t=require("react");function p(r,c){return r===c}function x(r,c){const f=typeof c=="number"?{delay:c}:c,{delay:l,maxWait:m,leading:e=!1,trailing:u=!0,equalityFn:b=p}=f,[y,T]=t.useState(r),[w,d]=t.useState(!1),g=t.useRef(r),n=t.useRef(null),o=t.useRef(null),i=t.useRef(null),s=t.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null),o.current&&(clearTimeout(o.current),o.current=null)},[]),a=t.useCallback(()=>{T(g.current),d(!1),i.current=null},[]),C=t.useCallback(()=>{(n.current||o.current)&&(a(),s())},[a,s]),V=t.useCallback(()=>{(n.current||o.current)&&(d(!1),s())},[s]);return t.useEffect(()=>{if(b(g.current,r))return;g.current=r,d(!0);const S=Date.now();if((i.current===null||e&&!n.current)&&(i.current=S,e)){T(r),d(!1),u&&(n.current=setTimeout(()=>{a()},l));return}if(i.current=S,n.current&&clearTimeout(n.current),u&&(n.current=setTimeout(()=>{a()},l)),m!==void 0&&!o.current){const D=S-(i.current||0),h=Math.max(0,m-D);o.current=setTimeout(()=>{(u||e&&n.current)&&a(),o.current=null},h)}return()=>{s()}},[r,l,m,e,u,b,a,s]),{debouncedValue:y,flush:C,cancel:V,isPending:w}}function R(r,c){const[f,l]=t.useState(()=>{try{const e=window.localStorage.getItem(r);return e?JSON.parse(e):c}catch{return c}});return[f,e=>{try{const u=e instanceof Function?e(f):e;l(u),window.localStorage.setItem(r,JSON.stringify(u))}catch(u){console.warn(u)}}]}exports.useDebounce=x;exports.useLocalStorage=R;
